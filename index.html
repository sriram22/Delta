<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
<style>
body {
	margin: 0px;
	padding: 50px;
	background-color:#2D3047;
}
.double {
	border-style: double;
}
div{
  background-color:#419D78;
  color:#EFD0CA;
  font-size:20px;
  text-align:center;
}
</style>
</head>
<body>
<canvas id="mycanvas" width="800" height="500" class="double"></canvas>
<div>Time left = <span id="timer"></span></div>
</body>
<script type="text/javascript" src="firstfloor.js"></script>
<script type="text/javascript">
var m,s;
var game=0;
startTimer();


function startTimer() {

	
 	if(game==0){
   		document.getElementById('timer').innerHTML=05 + ":" + 00;
   		game=1;
   		startTimer();
    }


  var presentTime = document.getElementById('timer').innerHTML;
  var timeArray = presentTime.split(/[:]+/);
  m = timeArray[0];
  s = checkSecond((timeArray[1] - 1));
  if(m==0){
	if(s==0){
		gameover();
	}
 }
  if(s==59){m=m-1}
  //if(m<0){alert('timer completed')}
  
  document.getElementById('timer').innerHTML =
    m + ":" + s;
  setTimeout(startTimer, 1000);
}


function checkSecond(sec) {
  if (sec < 10 && sec >= 0) {sec = "0" + sec}; // add zero in front of numbers < 10
  if (sec < 0) {sec = "59"};
  return sec;
}

function gameover(){
           player.status==0;
          window.alert("GAME OVER! YOU LOSE!!");
          moveX=0;
          game=0;
          console.log(game);
          player.x=canvas.width-50;
          player.y=canvas.height-50;
          player.status=1;
          player.unlock=0;
          color='green';
          moveY=0;
}
</script>
</html>
